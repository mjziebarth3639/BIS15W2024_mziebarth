summarize(mean_pack_druid=mean(packsize_aug))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(mean_pack_druid=mean(packsize_aug))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(largest_pack_druid=max(packsize_aug))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(largest_pack_druid=max(packsize_aug)) %>%
arrange(desc(largest_pack_druid))
ynp %>%
select(pack, persisty1)
ynp %>%
select(pack, persisty1) %>%
arrange(desc(persisty1))
ynp %>%
select(pack, persisty1) %>%
arrange(desc(persisty1, n_distinct))
ynp %>%
select(pack, persisty1) %>%
count(pack) %>%
arrange(desc(persisty1))
ynp %>%
select(pack, persisty1) %>%
arrange(desc(persisty1))
ynp %>%
summarize(across(c(pack, persisty1), n_distinct))
ynp %>%
group_by(pack) %>%
summarize(across(c(pack, persisty1), n_distinct))
levels(ynp)
ynp %>%
mutate_if(is.character, factor) %>%
group_by(pack) %>%
summarize(across(c(pack, persisty1), n_distinct))
ynp %>%
mutate_if(is.character, factor) %>%
group_by(pack) %>%
summarize(across(c(persisty1), n_distinct))
ynp %>%
mutate_if(is.character, factor) %>%
group_by(pack) %>%
summarize(across(c(persisty1), n_distinct)) %>%
arrange(desc(persisty1))
ynp %>%
mutate_if(is.character, factor) %>%
group_by(pack) %>%
summarize(across(c(persisty1, year), n_distinct)) %>%
arrange(desc(persisty1))
ynp %>%
mutate_if(is.character, factor) %>%
group_by(pack) %>%
summarize(across(persisty1, year), n_distinct)) %>%
ynp %>%
mutate_if(is.character, factor)
ynp %>%
mutate_if(is.character, factor) %>%
group_by(pack) %>%
summarize(across(persisty1, biolyr), n_distinct)) %>%
Problem 9. (5 points) Among the YNP wolf packs, which one has had the highest overall persistence `persisty1` for the years represented in the data? Look this pack up online and tell me what is unique about its behavior- specifically, what prey animals does this pack specialize on?
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(biolyr)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(biolyr) %>%
summarize(n_distinct(pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_total=n_distinct(pack)) %>%
arrange(desc())
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_total=n_distinct(pack)) %>%
arrange(desc(n_total))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack)
summarize(n_total=n_distinct(pack)) %>%
arrange(desc(n_total))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(n_total=n_distinct(pack)) %>%
arrange(desc(n_total))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_total=n_distinct(pack)) %>%
arrange(desc(n_total))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_total=n()) %>%
arrange(desc(n_total))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_total=n()) %>%
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(biolyr) %>%
summarize(n_distinct(pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(biolyr) %>%
summarize(n_pack=n_distinct(pack)) %>%
arrange(desc(n_pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(n_pack=n_distinct(pack)) %>%
arrange(desc(n_pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack, biolyr) %>%
summarize(n_pack=n_distinct(pack)) %>%
arrange(desc(n_pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
group_by(biolyr) %>%
summarize(n_pack=n_distinct(pack)) %>%
arrange(desc(n_pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_pack=n_distinct(pack)) %>%
arrange(desc(n_pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_pack=n_distinct(pack)) %>%
group_by(pack) %>%
group_by(biolyr) %>%
arrange(desc(n_pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_pack=n_distinct(pack)) %>%
group_by(pack) %>%
group_by(biolyr)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
summarize(n_pack=n_distinct(pack)) %>%
group_by(biolyr)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
group_by(biolyr) %>%
summarize(n_pack=n_distinct(pack)) %>%
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
group_by(biolyr) %>%
summarize(n_pack=n_distinct(pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
group_by(biolyr)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
group_by(biolyr) %>%
summarize(sum_persisty1=sum(persisty1))
ynp %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
group_by(biolyr) %>%
summarize(sum_persisty1=sum(persisty1))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
count(persisty1, sort = T)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
count(pack, sort = T)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
glimpse(fisheries)
head(fisheries)
tail(fisheries)
str(fisheries)
fisheries <- janitor::clean_names(fisheries)
names(fisheries)
fisheries$country <- as.factor(fisheries$country)
fisheries$isscaap_group_number <- as.factor(fisheries$isscaap_group_number)
fisheries$asfis_species_number <- as.factor(fisheries$asfis_species_number)
fisheries$fao_major_fishing_area <- as.factor(fisheries$fao_major_fishing_area)
fisheries <-
fisheries %>% mutate(across(c(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area), as_factor))
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
summarize(ncountries = n_distinct(country))
levels(fisheries_tidy$country)
fisheries_tidy_focused <- fisheries_tidy %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries_tidy_focused
fisheries_tidy_focused %>%
summarize(n_taxa=n_distinct(asfis_species_number))
fisheries_tidy_focused %>%
filter(year==2000) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy_focused %>%
filter(asfis_species_name== "Sardina pilchardus") %>%
filter(year>=1990 & year<=2000) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
sardines1 <- fisheries_tidy_focused %>%
filter(stringr::str_detect(asfis_species_name, "Sardina")) %>%
filter(year>=1990 & year<=2000)
sardines1 %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
sardines2 <- fisheries_tidy_focused %>%
filter(stringr::str_detect(isscaap_taxonomic_group, "sardines")) %>%
filter(year>=1990 & year<=2000)
sardines2 %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy_focused %>%
filter(str_detect(isscaap_taxonomic_group, "Squids")) %>%
filter(year>=2008 & year<=2012) %>%
group_by(country) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
fisheries_tidy_focused %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
count(asfis_species_name, sort=T)
fisheries_tidy_focused %>%
filter(year>=2008 & year<=2012)%>%
group_by(asfis_species_name) %>%
summarize(catch_total=sum(catch, na.rm=T)) %>%
arrange(desc(catch_total))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
filter(pack)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
filter(biolyr)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(total_persisty1=n_distinct(persisty1))
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(eval = FALSE)
mammals %>%
summarize(across(c(species, order, family, gestation), n_distinct))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
sum(persisty1)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1)) %>%
arrange(desc(persisty1))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1)) %>%
arrange(persisty1)
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1)) %>%
summarize(pack_total=n_distinct(pack))
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1)) %>%
summarize(total=n())
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1),
total=n())
ynp %>%
mutate_if(is.character, factor) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1),
total=n()) %>%
arrange(total)
ynp %>%
mutate_if(is.character, factor) %>%
count(pack, sort = T)
ynp %>%
mutate_if(is.character, factor) %>%
count(pack, sort = T) %>%
select(pack, biolyr, persisty1) %>%
group_by(pack) %>%
summarize(max_persist=max(persisty1),
total=n()) %>%
arrange(total)
ynp %>%
mutate_if(is.character, factor) %>%
count(pack, persisty1, sort = T)
ynp %>%
mutate_if(is.character, factor) %>%
count(pack, persisty1, sort = T)
ynp %>%
tabyl(pack, persisty1, biolyr, sort = T)
ynp %>%
tabyl(pack, persisty1, biolyr)
wolves %>%
select(park, biolyr, pack, mort_all)
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park %in% "N" & mort_all>=2.5)
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & mort_all>=2.5)
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & mort_all>=2)
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & mort_all>=2) %>%
group_by(pack)
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & mort_all>=2) %>%
group_by(pack) %>%
summarize(mean_mort=mean(mort_all),
sd_mort=sd(mort_all),
total=n()))
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & mort_all>=2) %>%
group_by(pack) %>%
summarize(mean_mort=mean(mort_all),
sd_mort=sd(mort_all),
total=n())
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & mort_all>=2) %>%
group_by(pack) %>%
summarize(mean_mort=mean(mort_all, na.rm =T),
sd_mort=sd(mort_all, na.rm=T),
total=n())
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr<=2000) %>%
group_by(pack) %>%
summarize(mean_mort=mean(mort_all, na.rm =T),
sd_mort=sd(mort_all, na.rm=T),
total=n())
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr<=1997) %>%
group_by(pack) %>%
summarize(mean_mort=mean(mort_all, na.rm =T),
sd_mort=sd(mort_all, na.rm=T),
total=n())
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
group_by(pack) %>%
summarize(mean_mort=mean(mort_all, na.rm =T),
sd_mort=sd(mort_all, na.rm=T),
total=n())
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
group_by(pack)
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
summarize(mean_mort=mean(mort_all, na.rm =T),
sd_mort=sd(mort_all, na.rm=T),
total=n())
mammals %>%
filter(mass > 100) %>%
summarize(n_genera=n_distinct(genus)) #n_genera is the name
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
filter(pack %in% "e")
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
filter(pack1="druid")
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
filter(pack!="druid")
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
filter(pack!="100 Mile")
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=1997) %>%
filter(pack!="East Fork")
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=2000) %>%
filter(pack!="East Fork")
wolves %>%
select(park, biolyr, pack, mort_all) %>%
filter(park=="DENA" & biolyr>=2000) %>%
filter(pack!="East Fork") %>%
arrange(desc(mort_all))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(mean_pack_druid=mean(packsize_aug)) %>%
arrange(desc(packsize_aug))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(mean_pack_druid=mean(packsize_aug)) %>%
arrange(desc(mean_pack_druid))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(mean_pack_druid=mean(packsize_aug)) %>%
arrange(desc(mean_pack_druid))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(mean_pack_druid=mean(packsize_aug)) %>%
arrange(desc(mean_druid_pack))
ynp %>%
filter(pack=="druid") %>%
group_by(biolyr) %>%
summarize(mean_pack_druid=mean(packsize_aug)) %>%
arrange(desc(mean_pack_druid))
