filter(newborns, sex=="boy" & length >= 21)
filter(newborns, eyecolor=="brown" | weight <= 8)
filter(newborns, eye_color=="brown" | weight <= 8)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
install.packages(c("commonmark", "data.table"))
library(tidyverse)
library(janitor)
library(skimr)
install.packages("skimr")
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv") %>%
clean_names(fisheries)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv") %>%
clean_names(fisheries)
setwd("/Users/mayaziebarth/Desktop/BIS15W2024_mziebarth/lab7/data")
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv") %>%
clean_names(fisheries)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv") %>%
clean_names(fisheries)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv") %>%
clean_names(fisheries)
fisheries
View(fisheries)
View(fisheries)
clean_names(fisheries)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
clean_names(fisheries) %>%
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
clean_names(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
fisheries <- clean_names(fisheries)
View(fisheries)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
names(fisheries)
glimpse(fisheries)
?rename
fisheries <- clean_names(fisheries) %>%
as.factor("country", "isscaap_group_number", "asfis_species_number", "fao_major_fishing_area")
fisheries <- clean_names(fisheries) %>%
as.factor(class("country", "isscaap_group_number", "asfis_species_number", "fao_major_fishing_area"))
fisheries <- clean_names(fisheries) %>%
as.factor(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area)
fisheries <- clean_names(fisheries) %>%
as.factor(country)
fisheries <- clean_names(fisheries) %>%
as.factor(fisheries)
fisheriesn <- as.factor(fisheries)
fisheries <- clean_names(fisheries) %>%
select(country, isscaap_group_number, asfis_species_number, fao_major_fishing_area) %>%
fisheries <- as.factor(fisheries)
fisheries <- clean_names(fisheries) %>%
class(fisheries) %>%
fisheries <- as.factor(fisheries)
View(fisheries_tidy)
fisheries_tidy %>%
distinct(country)
fisheries_tidy %>%
n_distinct(country)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
n_distinct(country)
fisheries_tidy %>%
summarize(distinct_countries = n_distinct(country))
fisheries %>%
select( country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
fisheries <- as.factor(fisheries)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
fisheries <- clean_names(fisheries)
glimpse(fisheries)
fisheries <- as.factor(fisheries)
fisheries %>%
select(country, isscaap_taxonomic_group, asfis_species_name, asfis_species_number, year, catch)
select(fisheries, "country", "isscaap_taxonomic_group", "asfis_species_name", "asfis_species_number", "year", "catch")
library(tidyverse)
library(janitor)
library(skimr)
select(fisheries, "country", "isscaap_taxonomic_group", "asfis_species_name", "asfis_species_number", "year", "catch")
select(fisheries_tidy, "country", "isscaap_taxonomic_group", "asfis_species_name", "asfis_species_number", "year", "catch")
fisheries_tidy %>%
n_disincit(asfis_species_name)
fisheries_tidy %>%
summarize(disincit_species=n_distinct(asfis_species_name)
fisheries_tidy %>%
summarize(disincit_species=n_distinct(asfis_species_name))
fisheries_tidy %>%
select(country, year, catch)
fisheries_tidy %>%
select(country, year, catch) %>%
filter(year=2000)
fisheries_tidy %>%
select(country, year, catch) %>%
filter(year==2000)
fisheries_tidy %>%
select(country, year, catch na.rm=T) %>%
fisheries_tidy %>%
select(country, year, catch) %>%
filter(year==2000) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, asfis_species_name, year, catch)
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(year<=1990 & year>=2000)
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(year>=1990 & year<=2000)
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name=="Sardina pilchardus")
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
arrange(desc(catch))
View(fisheries_tidy)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
summarize(n=n()) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
summarize(n=n()) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
summarize(n=n())
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
n_distinct(country) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
summarize(disinct_countries=n_distinct(country)) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
summarize(disinct_countries=n_distinct(country))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
group_by(country) %>%
summarize(n=n())%>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
group_by(country) %>%
summarize(n=n())
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
count(country, catch, sort = T)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
count(country, catch, year, sort = T)
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(asfis_species_name, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(asfis_species_name, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name!="Osteichthyes")
fisheries_tidy %>%
select(asfis_species_name, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name!="Osteichthyes") %>%
arrange(desc(catch))
fisheries_tidy %>%
tabyl(country, asfis_species_name, catch)
fisheries_tidy %>%
by_group(common_name)
fisheries_tidy %>%
group_by(common_name)
fisheries_tidy %>%
group_by(common_name) %>%
select(country, common_name, catch)
fisheries_tidy %>%
group_by(common_name) %>%
select(country, common_name, catch) %>%
summarize(mean_catch=mean(catch),
min_catch=min(catch),
max_catch=max(catch),
sd_catch=sd(catch),
total=n())
fisheries_tidy %>%
group_by(country) %>%
select(country, catch) %>%
summarize(mean_catch=mean(catch),
min_catch=min(catch),
max_catch=max(catch),
sd_catch=sd(catch),
total=n())
library("tidyverse")
library("janitor")
#install.packages("skimr")
library("skimr")
?msleep
msleep <- msleep
names(msleep)
library("palmerpenguins")
# VERY IMPORTANT, mutate made the new variable and evrything else you can do. WHEN you need a new column of variables use mutate
msleep24 <- msleep %>%
mutate(sleep_total_24=sleep_total/24) %>%
select("name", "vore", "sleep_total_24", sleep_total) %>%
filter(sleep_total_24<=.3) %>%
arrange(desc(sleep_total_24))
summary(msleep24)
skim(msleep24)
hist(msleep24$sleep_total_24)
head(msleep)
large <- msleep %>%
select(name, genus, bodywt, sleep_total) %>%
filter(bodywt > 200) %>%
arrange(desc(bodywt))
large
mean(large$sleep_total)
msleep %>%
filter(bodywt>200) %>%
summarize(mean_sleep_lg=mean(sleep_total))
msleep %>%
filter(bodywt<10) %>%
summarize(mean_sleep_sm=mean(sleep_total))
# need to do, know/remember total (number of rows)
msleep %>%
filter(bodywt>200) %>%
summarize(mean_sleep_lg=mean(sleep_total),
min_sleep_lg=min(sleep_total),
max_sleep_lg=max(sleep_total),
sd_sleep_lg=sd(sleep_total),
total=n())
msleep %>%
filter(order=="Primates") %>%
summarize(mean_bodywt=mean(bodywt),
min_bodywt=min(bodywt),
max_bodywt=max(bodywt),
total=n())
msleep %>%
filter(bodywt > 100)
msleep %>%
summarize(n_genera=n_distinct(genus)) #this is going to count the number of genera in msleep without repeats
glimpse(msleep)
msleep %>%
summarize(n_genera=n_distinct(genus))
msleep %>%
tabyl(genus)
msleep %>%
summarize(mean_sleep_lg=mean(sleep_total),
min_sleep_lg=min(sleep_total),
max_sleep_lg=max(sleep_total),
sd_sleep_lg=sd(sleep_total),
total=n())
msleep %>%
group_by(vore) %>% #we are grouping by feeding ecology, a categorical variable
summarize(min_bodywt = min(bodywt),
max_bodywt = max(bodywt),
mean_bodywt = mean(bodywt),
total=n())
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt))
msleep %>%
filter(order=="Carnivora") %>%
select(order, genus, brainwt)
#brain weight is not measured for those groups
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt, na.rm=T)) #NaN not a number
msleep %>%
filter(order=="cetacea") %>%
select(order, genus, brainwt)
fisheries_tidy %>%
summarize(mean_catch=mean(catch),
min_catch=min(catch),
max_catch=max(catch),
sd_catch=sd(catch),
total=n())
fisheries_tidy %>%
group_by(country) %>%
summarize(mean_catch=mean(catch),
min_catch=min(catch),
max_catch=max(catch),
sd_catch=sd(catch),
total=n())
fisheries_tidy %>%
summarize(mean_catch=mean(catch),
min_catch=min(catch),
max_catch=max(catch),
sd_catch=sd(catch),
total=n())
fisheries_tidy %>%
group_by(common_name) %>%
summarize(mean_catch=mean(catch),
min_catch=min(catch),
max_catch=max(catch),
sd_catch=sd(catch),
total=n())
fisheries_tidy %>%
group_by(common_name) %>%
summarize(mean_catch=mean(catch, na.rm=T),
min_catch=min(catch, na.rm=T),
max_catch=max(catch, na.rm=T),
sd_catch=sd(catch, na.rm=T),
total=n())
fisheries_tidy %>%
group_by(common_name) %>%
summarize(mean_catch=mean(catch, na.rm=T),
min_catch=min(catch, na.rm=T),
max_catch=max(catch, na.rm=T),
total=n())
fisheries <- %>%
fisheries %>%
mutate_if(is.character, factor)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
fisheries <- clean_names(fisheries)
glimpse(fisheries)
fisheries %>%
mutate_if(is.character, factor)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy %>%
summarize(distinct_countries = n_distinct(country))
select(fisheries_tidy, "country", "isscaap_taxonomic_group", "asfis_species_name", "asfis_species_number", "year", "catch")
fisheries_tidy %>%
summarize(disincit_species=n_distinct(asfis_species_name))
fisheries_tidy %>%
select(country, year, catch) %>%
filter(year==2000) %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, asfis_species_name, year, catch) %>%
filter(year>=1990 & year<=2000) %>%
filter(asfis_species_name=="Sardina pilchardus") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(country, isscaap_taxonomic_group, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(isscaap_taxonomic_group=="Squids, cuttlefishes, octopuses") %>%
arrange(desc(catch))
fisheries_tidy %>%
select(asfis_species_name, year, catch) %>%
filter(year>=2008 & year<=2012) %>%
filter(asfis_species_name!="Osteichthyes") %>%
arrange(desc(catch))
fisheries_tidy %>%
group_by(common_name) %>%
summarize(mean_catch=mean(catch, na.rm=T),
min_catch=min(catch, na.rm=T),
max_catch=max(catch, na.rm=T),
total=n())
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(eval = FALSE)
fish <- read_csv("data/Gaeta_etal_CLC_data.csv")%>%
clean_names()
setwd("/Users/mayaziebarth/Desktop/BIS15W2024_mziebarth/lab6/data")
fish <- read_csv("data/Gaeta_etal_CLC_data.csv")%>%
clean_names()
setwd("/Users/mayaziebarth/Desktop/BIS15W2024_mziebarth")
fish <- read_csv("data/Gaeta_etal_CLC_data.csv")%>%
clean_names()
fish <- read_csv("Gaeta_etal_CLC_data.csv")%>%
clean_names()
fish %>%
mutate(length_mm = length*10) %>%
select(fish_id, length, length_mm)
fish %>%
mutate_if(is.character, factor)
fish%>%
mutate_all(tolower)
fish %>%
select(lakeid, scalelength) %>%
arrange(scalelength)
fish %>%
select(lakeid, scalelength) %>%
arrange(desc(scalelength))
mammals %>%
select(genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn))%>%
arrange(newborn)
mammals <- read_csv("data/mammal_lifehistories_v2.csv") %>% clean_names()
setwd("/Users/mayaziebarth/Desktop/BIS15W2024_mziebarth")
mammals <- read_csv("data/mammal_lifehistories_v2.csv") %>% clean_names()
mammals <- read_csv("data/mammal_lifehistories_v2.csv") %>%
clean_names()
mammals <- read_csv("mammal_lifehistories_v2.csv") %>%
clean_names()
mammals %>%
select(genus, species, newborn) %>%
mutate(newborn_new = ifelse(newborn == -999.00, NA, newborn))%>%
arrange(newborn)
table(newborns$eye_color)
sex <- c("girl", "boy", "girl")
length <- c(19.8 , 20.34 , 18.4)
weight <- c(7.4 , 8.7 , 6.9)
newborns <- data.frame(sex, length, weight)
newborns
newborns[ ,3]
# this is the same as a data matrix
table(newborns$eye_color)
tabyl(newborns$eye_color)
table(newborns$eye_color)
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(eval = FALSE)
View(fish)
tabyl(fish, lakeid)
library(skimr)
